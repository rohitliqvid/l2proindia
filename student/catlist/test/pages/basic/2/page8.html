<!DOCTYPE html>
<html>
  <head>
	<meta http-equiv="x-ua-compatible" content="IE=edge" >
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	 <!-- bootstrap/4.3.1-->
	<link rel="stylesheet" href="css/bootstrap.min.css"/>
	<link rel="stylesheet" href="css/common.css"/>
	<!-- jquery/3.4.0 -->
	<script src="js/jquery.min.js"></script>
	<!-- bootstrap/4.3.1-->
    <script src="js/bootstrap.min.js"></script>
	<script src="js/popper.min.js"></script>

	</head>
	<body>	 
  <!-- ============= Start Ttile Div============= -->
	   <div class="title">
	   <div class="titleLine skew">
	   &nbsp;<span> Brain Teaser 2</span>
	  </div><div class="titleLine1 skew">&nbsp;</div><div class="titleLine2 skew">&nbsp;</div><div class="titleLine3 skew">&nbsp;</div>
	  </div>
    <!-- =============End Ttile Div============= -->
<!-- =============Start Content Div============= -->
	<div class="container">
	  <div class="row"> 
	<div class="col-sm-12 contentBg" id="contentBg">
	
	 <!-- start  speed Reading MCQ-->
           
   <div  id="assessmentDiv">
       <div class="quizContentDetail">
        <div id="ques-block-1" class="ques-block" qid="" qtype="">                      <!--Assessment Type-->
       <div  class="quesQuizType" id="assQues">

                        <div class="quesBg">

                            <div class="quesContentDiv"> 
                                <span class="col-md-12 quesTxt"></span>
                            </div>
							  <div class="instruction blue" id="instruction">Select all that apply.
                              </div>
                            <div class="ansBg">
                                    
                                    <!-- Start ///MCQ ans-->
                                        <div class="mcqAnsDiv" style="display:block">
           
                                            <div class="mcqAns" id="mcqAns1">

                                                <div class="checkBox radio radio-danger">
                                                    <input type="radio" name="RadioGroup1"  value="option1"  class="ans-label unchecked" id="1">
                                                    <label for="1" class="ans-label unchecked"  id="l1">
                                                      
                                                    </label>
                                                </div>
                                                
                                            </div>
											<div class="mcqAns" id="mcqAns2">

                                                <div class="checkBox radio radio-danger">
                                                    <input type="radio" name="RadioGroup1"  value="option2"  class="ans-label unchecked" id="2">
                                                    <label for="2" class="ans-label unchecked"  id="l2">
                                                      
                                                    </label>
                                                </div>
                                                
                                            </div>
										<div class="mcqAns" id="mcqAns3">

                                                <div class="checkBox radio radio-danger">
                                                    <input type="radio" name="RadioGroup1"  value="option3"  class="ans-label unchecked" id="3">
                                                    <label for="3" class="ans-label unchecked"  id="l3">
                                                       
                                                    </label>
                                                </div>
                                                
                                            </div>
										<div class="mcqAns" id="mcqAns4">

                                                <div class="checkBox radio radio-danger">
                                                    <input type="radio" name="RadioGroup1"  value="option4"  class="ans-label unchecked" id="4">
                                                    <label for="4" class="ans-label unchecked"  id="l4">
                                                      
                                                    </label>
                                                </div>
                                                
                                            </div>
                                  
                                    </div>
                               
                                <!-- end Start ///MCQ ans-->
        
       

                                        </div>

                                    </div>
                      

     

                            </div>
     <div class="btnBg text-right">
				  <button id="btnSubmit" type="button" class="btn displayNone" current_ques_no="" page="1">Submit</button>
                     <!--<button id="btnSubmit" type="button" class="bdrNone bgNone"><img class="btnImg" src="media/images/submit.png"></button>-->
                     <button id="btnNext" type="button" class="btn" current_ques_no="" page="1">Next</button>
                </div>
			  </div>	 
         
 <!--end  Assessment -->

	 <!-- =============Start Complete score============= -->
	
	<div class="col-sm-12 popupMarginTop popupBg hide complete bdrBlue" id="complete">
	     <div class="bold text-right"><a id="btnClose" href="javascript:void(0)" class="black">Close</a></div>
	<div class="marginTop20"></div>
		 <div class="quizBg" >
                <div class="text-center quizSummery"> Your Score</div>
                <div class="scoreBg">
                    <div class="text-center quizScore width100per">
                        <div>  <span id="starcountId" class="rightScoreID"></span></div>
                        <div class="scoreTxt">&nbsp;</div>
                    </div>
                  
                </div>
				
             </div>  
         
				<div class="marginTop20"></div>
               
                
				

        </div>
	</div><!-- =============End Score============= -->
   </div>     

   </div>
 </div>
</div>

<script src="js/common.js"></script>	 

 </body>
</html>

<script>

  $(document).ready(function () {

	  var data;
	  var showId=1;// set deafult qustion set
      var dataAPI = "data/assessment.json?" + new Date().getTime();

	  $.ajaxSetup({cache:false});
	  $.getJSON( dataAPI, {
		tags: "Assessment",
		tagmode: "any",
		format: "json"
	  }).done(function( data ) {
		    var dataItems = data;
			 $.each(dataItems, function(idx, obj) {
			 var cnt=showId-1;
			 var cId=obj.speed[cnt].id;
			 var ins=obj.speed[cnt].instruction;
			// var wordSet=obj.speed[cnt].wordShow;
			 //var spara=obj.speed[cnt].speedPara;
             var mcq=obj.speed[cnt].mcqQuestion;
             var qId='', ques='',cAns='',ansoption='',ansText='',ans,checkans,ques_no,next_ques,total_ques,total_correct_ans_till_now = 0, total_ques_attempted = 1,msgText;

			// alert(showId+'=='+cId+'=='+wordSet)
		  if(showId==cId){
			   total_ques= mcq.length;
			   if (total_ques > 0) {
					//$("#quesAttemp").text('1');
					$("#totalQues").text(total_ques);
				}
				
				  $("#btnNext").prop('disabled', true);
				   $("#instruction").html(ins);
				  var i= 0;
					
				$("#assQues").html('');
				var txt='';
				
				 for(i=0;i<total_ques;i++){
				    qId= mcq[i].quesId;
					ques= mcq[i].ques;
					cAns=mcq[i].correctAns;
					ansoption=mcq[i].answer;
					
				var anstxt='';
				for(var j=0;j<ansoption.length;j++){
						//alert(ansoption.length);
						var count=j+parseInt(1);
						ansText =ansoption[j].option;
						//$("#l"+count).html(ansText);
						anstxt+='<div class="mcqAns" ><div class="checkBox radio radio-danger" id='+qId+count+'><input type="radio" name="RadioGroup'+qId+'" id="inlab'+qId+count+'" value="option'+count+'"  for="'+count+'" class="ans-label"  qid="'+qId+'"><label for="'+count+'" class="ans-label" qid="'+qId+'" id="lab'+qId+count+'">'+ansText+'</label></div></div>';

					}
					txt+='<div class="quesBg" id="assBg'+qId+'" qId="'+qId+'"><div class="quesContentDiv"><span class="col-md-12 quesTxt">'+ques+'<span></div><div class="instruction blue" id="instruction">Select all that apply.</div><div class="ansBg"><div class="mcqAnsDiv" id="mcqAnsDiv'+qId+'" style="display:block">'+anstxt+'</div></div></div>';

				 }
					$("#assQues").html(txt);
					$(".quesBg").hide();
					$("#assBg1").show();

				
				$("#btnSubmit").click(function(){
				   //var quesId = $(this).attr('page');
				    // quesId= parseInt(quesId);
					var chkLength= $("#assQues").find('.checked').length;
					
					// if (chkLength < 1) {
                         // alert('Please select atleast one answer.');
                       //   return;
                        //    }
					$("#assQues").find('.mcqAnsDiv .ans-label').each(function (index) {
						if ($(this).hasClass('checked')) {
							var qid = $(this).attr('qid');
							 var ans= $(this).attr('for');
							//console.log(cAns+"=="+qid);
							//console.log(chkLength+"=="+cAns+"=="+ans);
							  var rating = 0;
								 rating = (total_correct_ans_till_now/ total_ques) * 5;
								 rating = Math.floor(rating);
								 //$("#complete .score-text").hide();
								// alert(rating)
								 if (rating > 2) {
									//$("#complete .scoreKeep").show();
								 } else {
									//$("#complete .scoreZero").show();
								 }   
							if (cAns == ans) {
								//var wtxt = $("#l"+cAns).html();
								total_correct_ans_till_now++;
								//alert( total_correct_ans_till_now)
								 //$(this).hide();
								 $("#complete").show();
								 $(".ques-block").hide();
								 $("#starcountId").html(total_correct_ans_till_now + '/' + total_ques);
								 $("#scorePara").attr('score', total_correct_ans_till_now);
								 $("#scorePara").attr('total', total_ques);
								
							} else {
								//$(this).hide();
								 $("#complete").show();
								 $(".ques-block").hide();
								 $("#starcountId").html(total_correct_ans_till_now + '/' + total_ques);
								 $("#scorePara").attr('score', total_correct_ans_till_now);
								 $("#scorePara").attr('total', total_ques);
							}
							  
					   }
					});
					
				}); 
				$("#btnClose").click(function(){   
					 
					$("#btnSubmit").show();
					$("#btnSubmit").prop('disabled', true);
					$(".mcqAnsDiv").addClass("cursorNone");
					$("#ques-block-1").show();
					$("#complete").hide();
	          });
                //$("#btnBack").prop('disabled', true);
                $("#btnSubmit").hide();
				$("#btnNext").click(function(){   
					//$("#btnBack").prop('disabled', false);
					//$("#btnSubmit").prop('disabled', true);
					$("#btnNext").prop('disabled', true);
					var nextId = $(this).attr('page');
					var next_ques = parseInt(nextId)+ 1;
					var pre_ques = parseInt(nextId)-1;
					//alert(next_ques);
				    $(".quesBg").hide();
					$("#assBg"+next_ques).show();
					$("#assBg"+next_ques).find('.mcqAnsDiv .ans-label').each(function () {
						if ($(this).hasClass('checked')) {
							//$("#btnSubmit").prop('disabled', false);
							
						}
						
					});
				    if(next_ques==total_ques){
						 //$("#btnNext").prop('disabled', true);
						 $("#btnNext").hide();
						 $("#btnSubmit").show();
						 $("#btnSubmit").prop('disabled', true);
						
					}
					
					$(this).attr('page',next_ques);
					//$("#btnBack").attr('page',next_ques);
					$("#btnSubmit").attr('page',next_ques);
					total_ques_attempted++;
				   
					

	          }); 
			
			/* $("#btnBack").click(function(){   
			       $("#btnNext").show();
					$("#btnNext").prop('disabled', false);
					 //$("#btnSubmit").prop('disabled', true);
					  $("#btnSubmit").hide();
					var preId = $(this).attr('page');
					var next_ques = parseInt(preId)+ 1;
					var pre_ques = parseInt(preId)-1;
					
					//alert(pre_ques);
				    $(".quesBg").hide();
					$("#assBg"+pre_ques).show();
					$("#assBg"+pre_ques).find('.mcqAnsDiv .ans-label').each(function () {
						if ($(this).hasClass('checked')) {
							//$("#btnSubmit").prop('disabled', false);
							
						}
						
					});
				   if(pre_ques ==1){
					
					
					$(this).attr('page',pre_ques);
					$("#btnNext").attr('page',pre_ques);
					$("#btnSubmit").attr('page',pre_ques);
					   total_ques_attempted--;
				       progressBar();

	          }); 	$("#btnBack").prop('disabled', true);
					}*/
           
		   /*  ###### Start  enable disable in mcq #############  */
		   
		       $('.mcqAnsDiv .radio').on('click', function () {
					//   $('.unchecked').not(this).removeClass('checked');
					//   $(this).toggleClass('checked','unchecked');
						var id_clicked = $(this).attr('id');
						//alert(id_clicked)
						$("#btnSubmit").prop('disabled', false);
						
							if (id_clicked) {
								//alert("#in"+id_clicked)
								$("#in"+id_clicked).addClass('checked');
								$("#inlab"+id_clicked).addClass('checked');
								$("#inlab"+id_clicked).attr('checked',true);
								$("#btnNext").prop('disabled', false);
								
							} else {
								
								$("#in"+id_clicked).removeClass('checked');
								$("#inlab"+id_clicked).removeClass('checked');
								$("#inlab"+id_clicked).attr('checked',false);
								$("#btnNext").prop('disabled', true);
								
							}
						
				 });
					
				$("#btnNext").prop('disabled', true);
					
		   
		   
		   }//showId item if condition
		   
		});//dataitem each loop end  fn

	  
 });//Json Done end  fn
	
 });

 </script>

